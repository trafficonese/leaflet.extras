{"version":3,"file":"lfx-sleep-prod.js","mappings":"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","sources":["webpack://leaflet.extras/./node_modules/leaflet-sleep/Leaflet.Sleep.js"],"sourcesContent":["/*\n * Leaflet.Sleep\n */\n\n/*\n * Default Button (touch devices only)\n */\n\nL.Control.SleepMapControl = L.Control.extend({\n\n  initialize: function(opts){\n    L.setOptions(this,opts);\n  },\n\n  options: {\n    position: 'topright',\n    prompt: 'disable map',\n    styles: {\n      'backgroundColor': 'white',\n      'padding': '5px',\n      'border': '2px solid gray'\n    }\n  },\n\n  buildContainer: function(){\n    var self = this;\n    var container = L.DomUtil.create('p', 'sleep-button');\n    var boundEvent = this._nonBoundEvent.bind(this);\n    container.innerHTML = this.options.prompt;\n    L.DomEvent.addListener(container, 'click', boundEvent);\n    L.DomEvent.addListener(container, 'touchstart', boundEvent);\n\n    Object.keys(this.options.styles).map(function(key) {\n      container.style[key] = self.options.styles[key];\n    });\n\n    return (this._container = container);\n  },\n\n  onAdd: function () {\n    return this._container || this.buildContainer();\n  },\n\n  _nonBoundEvent: function(e) {\n    L.DomEvent.stop(e);\n    if (this._map) this._map.sleep._sleepMap();\n    return false;\n  }\n\n});\n\nL.Control.sleepMapControl = function(){\n  return new L.Control.SleepMapControl();\n};\n\n\n/*\n * The Sleep Handler\n */\n\nL.Map.mergeOptions({\n  sleep: true,\n  sleepTime: 750,\n  wakeTime: 750,\n  wakeMessageTouch: 'Touch to Wake',\n  sleepNote: true,\n  hoverToWake: true,\n  sleepOpacity:.7,\n  sleepButton: L.Control.sleepMapControl\n});\n\nL.Map.Sleep = L.Handler.extend({\n\n  addHooks: function () {\n    var self = this;\n    this.sleepNote = L.DomUtil.create('p', 'sleep-note', this._map._container);\n    this._enterTimeout = null;\n    this._exitTimeout = null;\n\n    /*\n     * If the device has only a touchscreen we will never get\n     * a mouseout event, so we add an extra button to put the map\n     * back to sleep manually.\n     *\n     * a custom control/button can be provided by the user\n     * with the map's `sleepButton` option\n     */\n    this._sleepButton = this._map.options.sleepButton();\n\n    if (this._map.tap) {\n      this._map.addControl(this._sleepButton);\n    }\n\n    var mapStyle = this._map._container.style;\n    mapStyle.WebkitTransition += 'opacity .5s';\n    mapStyle.MozTransition += 'opacity .5s';\n\n    this._setSleepNoteStyle();\n    this._sleepMap();\n  },\n\n  removeHooks: function () {\n    if (!this._map.scrollWheelZoom.enabled()){\n      this._map.scrollWheelZoom.enable();\n    }\n    if (this._map.tap) {\n      this._map.touchZoom.enable();\n      this._map.dragging.enable();\n      this._map.tap.enable();\n    }\n    L.DomUtil.setOpacity( this._map._container, 1);\n    L.DomUtil.setOpacity( this.sleepNote, 0);\n    this._removeSleepingListeners();\n    this._removeAwakeListeners();\n  },\n\n  _setSleepNoteStyle: function() {\n    var noteString = '';\n    var style = this.sleepNote.style;\n\n    if(this._map.tap) {\n      noteString = this._map.options.wakeMessageTouch;\n    } else if (this._map.options.wakeMessage) {\n      noteString = this._map.options.wakeMessage;\n    } else if (this._map.options.hoverToWake) {\n      noteString = 'click or hover to wake';\n    } else {\n      noteString = 'click to wake';\n    }\n\n    if( this._map.options.sleepNote ){\n      this.sleepNote.innerHTML = noteString;\n      style.pointerEvents = 'none';\n      style.maxWidth = '150px';\n      style.transitionDuration = '.2s';\n      style.zIndex = 5000;\n      style.margin = 'auto';\n      style.textAlign = 'center';\n      style.borderRadius = '4px';\n      style.top = '50%';\n      style.position = 'relative';\n      style.padding = '5px';\n      style.border = 'solid 2px black';\n      style.background = 'white';\n\n      if(this._map.options.sleepNoteStyle) {\n        var noteStyleOverrides = this._map.options.sleepNoteStyle;\n        Object.keys(noteStyleOverrides).map(function(key) {\n          style[key] = noteStyleOverrides[key];\n        });\n      }\n    }\n  },\n\n  _wakeMap: function (e) {\n    this._stopWaiting();\n    this._map.scrollWheelZoom.enable();\n    if (this._map.tap) {\n      this._map.touchZoom.enable();\n      this._map.dragging.enable();\n      this._map.addControl(this._sleepButton);\n    }\n    L.DomUtil.setOpacity( this._map._container, 1);\n    this.sleepNote.style.opacity = 0;\n    this._addAwakeListeners();\n  },\n\n  _sleepMap: function () {\n    this._stopWaiting();\n    this._map.scrollWheelZoom.disable();\n\n    if (this._map.tap) {\n      this._map.touchZoom.disable();\n      this._map.dragging.disable();\n      this._map.tap.disable();\n      this._map.removeControl(this._sleepButton);\n    }\n\n    L.DomUtil.setOpacity( this._map._container, this._map.options.sleepOpacity);\n    this.sleepNote.style.opacity = this._map.options.sleepNoteStyle && this._map.options.sleepNoteStyle.opacity ? this._map.options.sleepNoteStyle.opacity : .6;\n    this._addSleepingListeners();\n  },\n\n  _wakePending: function () {\n    this._map.once('mousedown', this._wakeMap, this);\n    if (this._map.options.hoverToWake){\n      var self = this;\n      this._map.once('mouseout', this._sleepMap, this);\n      self._enterTimeout = setTimeout(function(){\n          self._map.off('mouseout', self._sleepMap, self);\n          self._wakeMap();\n      } , self._map.options.wakeTime);\n    }\n  },\n\n  _sleepPending: function () {\n    var self = this;\n    self._map.once('mouseover', self._wakeMap, self);\n    self._exitTimeout = setTimeout(function(){\n        self._map.off('mouseover', self._wakeMap, self);\n        self._sleepMap();\n    } , self._map.options.sleepTime);\n  },\n\n  _addSleepingListeners: function(){\n    this._map.once('mouseover', this._wakePending, this);\n    this._map.tap &&\n      this._map.once('click', this._wakeMap, this);\n    \n  },\n\n  _addAwakeListeners: function(){\n    this._map.once('mouseout', this._sleepPending, this);\n  },\n\n  _removeSleepingListeners: function(){\n    this._map.options.hoverToWake &&\n      this._map.off('mouseover', this._wakePending, this);\n    this._map.off('mousedown', this._wakeMap, this);\n    this._map.tap &&\n      this._map.off('click', this._wakeMap, this);\n  },\n\n  _removeAwakeListeners: function(){\n    this._map.off('mouseout', this._sleepPending, this);\n  },\n\n  _stopWaiting: function () {\n    this._removeSleepingListeners();\n    this._removeAwakeListeners();\n    var self = this;\n    if(this._enterTimeout) clearTimeout(self._enterTimeout);\n    if(this._exitTimeout) clearTimeout(self._exitTimeout);\n    this._enterTimeout = null;\n    this._exitTimeout = null;\n  }\n});\n\nL.Map.addInitHook('addHandler', 'sleep', L.Map.Sleep);\n"],"names":["L","Control","SleepMapControl","extend","initialize","opts","setOptions","this","options","position","prompt","styles","buildContainer","self","container","DomUtil","create","boundEvent","_nonBoundEvent","bind","innerHTML","DomEvent","addListener","Object","keys","map","key","style","_container","onAdd","e","stop","_map","sleep","_sleepMap","sleepMapControl","Map","mergeOptions","sleepTime","wakeTime","wakeMessageTouch","sleepNote","hoverToWake","sleepOpacity","sleepButton","Sleep","Handler","addHooks","_enterTimeout","_exitTimeout","_sleepButton","tap","addControl","mapStyle","WebkitTransition","MozTransition","_setSleepNoteStyle","removeHooks","scrollWheelZoom","enabled","enable","touchZoom","dragging","setOpacity","_removeSleepingListeners","_removeAwakeListeners","noteString","wakeMessage","pointerEvents","maxWidth","transitionDuration","zIndex","margin","textAlign","borderRadius","top","padding","border","background","sleepNoteStyle","noteStyleOverrides","_wakeMap","_stopWaiting","opacity","_addAwakeListeners","disable","removeControl","_addSleepingListeners","_wakePending","once","setTimeout","off","_sleepPending","clearTimeout","addInitHook"],"sourceRoot":""}