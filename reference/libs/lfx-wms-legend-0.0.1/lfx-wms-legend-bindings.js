LeafletWidget.methods.addWMSLegend=function(e){(function(){var a=this,o=new L.Control.WMSLegend(e.options);if(!e.layerId){const a=o.options.uri.match(/layer=([^&]+)/);a&&a[1]?e.layerId=a[1]:e.layerId=L.Util.stamp(o)}a.on("layeradd",(function(r){const t=a.layerManager.getLayer("tile",e.layerId);t&&t.options&&r.layer.options.layers==t.options.layers&&a.controls.add(o,e.layerId)})),a.on("layerremove",(function(o){const r=a.layerManager.getLayer("tile",e.layerId);r&&r.options&&o.layer.options.layers==a.layerManager.getLayer("tile",e.layerId).options.layers&&a.controls.remove(e.layerId)})),a.controls.add(o,e.layerId)}).call(this)};