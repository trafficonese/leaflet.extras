window,L.Icon.Pulse=L.DivIcon.extend({options:{className:"",iconSize:[12,12],fillColor:"red",color:"red",animate:!0,heartbeat:1},initialize:function(e){L.setOptions(this,e);var t="lpi-"+(new Date).getTime()+"-"+Math.round(1e5*Math.random()),i=["background-color: "+this.options.fillColor],n=["box-shadow: 0 0 6px 2px "+this.options.color,"animation: pulsate "+this.options.heartbeat+"s ease-out","animation-iteration-count: infinite","animation-delay: "+(this.options.heartbeat+.1)+"s"];this.options.animate||(n.push("animation: none"),n.push("box-shadow:none"));var o=["."+t+"{"+i.join(";")+";}","."+t+":after{"+n.join(";")+";}"].join(""),a=document.createElement("style");a.styleSheet?a.styleSheet.cssText=o:a.appendChild(document.createTextNode(o)),document.getElementsByTagName("head")[0].appendChild(a),this.options.className=this.options.className+" leaflet-pulsing-icon "+t,L.DivIcon.prototype.initialize.call(this,e)}}),L.icon.pulse=function(e){return new L.Icon.Pulse(e)},L.Marker.Pulse=L.Marker.extend({initialize:function(e,t){t.icon=L.icon.pulse(t),L.Marker.prototype.initialize.call(this,e,t)}}),L.marker.pulse=function(e,t){return new L.Marker.Pulse(e,t)};